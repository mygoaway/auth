# Pinpoint Agent 설정
# 이 파일의 값은 pinpoint-root.config를 오버라이드합니다.

###########################################################
# Collector
###########################################################
profiler.transport.module=GRPC

profiler.collector.ip=pinpoint-collector

profiler.grpc.agent.collector.port=9991
profiler.grpc.metadata.collector.port=9992
profiler.grpc.stat.collector.port=9993
profiler.grpc.span.collector.port=9994

###########################################################
# Profiler — 기본 옵션
###########################################################
profiler.sampling.type=COUNTING
profiler.sampling.counting.sampling-rate=10

# SQL 파라미터 수집 (개발용 — 운영 시 false 권장)
profiler.jdbc.sqlcachesize=1024
profiler.jdbc.tracesqlbindvalue=true

# HTTP 요청 추적
profiler.spring.beans=true

# Redis (Lettuce) 추적
profiler.redis=true
profiler.redis.pipeline=true

# 느린 SQL 임계값 (ms)
profiler.jdbc.mysql.tracesql=true

###########################################################
# Agent 식별
###########################################################
profiler.applicationName=auth-service
